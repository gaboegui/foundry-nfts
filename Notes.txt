ERC-721 - NFTs
ERC-1155 - Semi FT

// https://github.com/OpenZeppelin/openzeppelin-contracts
// https://wizard.openzeppelin.com/
forge install OpenZeppelin/openzeppelin-contracts

//Install IPFS Companion extesion to access directly ipfs://

URI: ipfs://bafybeibc5sgo2plmjkq2tzmhrn54bk3crhnc23zd2msg4ea7a4pxrkgfna/1348

ipfs://Qmd17vfvMGQyBabNVP4J86838i3uryuNYrAYxhFxo4sEVL/1190

// strings cannot be directly compared
// so we encode first and the obtain the hash to compare:
require(keccak256(abi.encodePacked("Tiger")) == keccak256(abi.encodePacked(basicNft.name())));


//local deploy NFT Collection
forge script script/DeployBasicNft.s.sol:DeployBasicNft --rpc-url $ANVIL_RPC_URL --broadcast --account defaultKey

//sepolia deploy NFT Collection
// https://sepolia.etherscan.io/address/0x0a01d05962bb2549801c2251300d833d9c2e820b#code
forge script script/DeployBasicNft.s.sol:DeployBasicNft --rpc-url $SEPOLIA_RPC_URL --account sepoliaAccount2 --broadcast --verify --etherscan-api-key  $ETHERSCAN_API_KEY -vvvv

//Mint a new NFT
forge script script/Interactions.s.sol:MintBasicNft --rpc-url $ANVIL_RPC_URL --broadcast --account defaultKey

forge script script/Interactions.s.sol:MintBasicNft --rpc-url $SEPOLIA_RPC_URL --account sepoliaAccount2 --broadcast

// APP IPFS FREE HOSTING https://app.pinata.cloud/
ipfs://bafkreihw3tutoi5jpshk7kseohbntoknz6df4ha72gs7ymbgidzmdogscq

// OTHERS ALTERNATIVES FOR DESCENTRALIZED FILE STORAGE: 1) File Coin  2) arweave.org



#### MOOD NFT - SAVES SVG DIRECTLY TO BLOCK CHAIN
#### SVG encoding
base64 -i happy.svg  // encodes the html file

data:image/svg+xml;base64,THE_ENCODED_STRING


forge test --mt testConvertSvgToImageUri -vvvv



//local deploy NFT Collection
forge script script/DeployMoodNft.s.sol:DeployMoodNft --rpc-url $ANVIL_RPC_URL --broadcast --account defaultKey

//sepolia deploy Mood NFT Collection
// https://sepolia.etherscan.io/address/0x92d08dcba59ed4c34340d8fd351d8b4f1a0a9445#code
forge script script/DeployMoodNft.s.sol:DeployMoodNft --rpc-url $SEPOLIA_RPC_URL --account sepoliaAccount2 --broadcast --verify --etherscan-api-key $ETHERSCAN_API_KEY -vvvv

//Mint a new NFT
forge script script/Interactions.s.sol:MintMoodNft --rpc-url $SEPOLIA_RPC_URL --account sepoliaAccount2 --broadcast


// Change the Mood calling function flipTokenMood with the address of the contract
cast send 0x92d08dcba59ed4c34340d8fd351d8b4f1a0a9445 "flipTokenMood(uint256)" 0 --rpc-url $SEPOLIA_RPC_URL --account sepoliaAccount2



############# VERIFY FUNCTION CALLS IN METAMASK #####################
1. Check the CONTRACT address (read the function)
2. Check the function selector
3. Decode the calldata (check the parameters)


// 1. Verified WETH CONTRACT: https://sepolia.etherscan.io/token/0xfff9976782d46cc05630d1f6ebab18b2324d6b14#writeContract

// 2.
cast sig "transferFrom(address,address,uint256)"  --> 0x23b872dd

//in openchain.xyz there is a DB of function selectors: 0x23b872dd


//OBTAINED FROM METAMASK DATA FUNCTION CALL
0x23b872dd00000000000000000000000030b48891e399df43ef594d7a6b225bc3f8c80049000000000000000000000000594ed0194ac318462a847c2ebb54bf772e33353500000000000000000000000000000000000000000000000000000000000003e8
----------
is the same signature

// 3. Decodes the whole DATA FUNCTION CALL
cast --calldata-decode "transferFrom(address,address,uint256)" 0x23b872dd00000000000000000000000030b48891e399df43ef594d7a6b225bc3f8c80049000000000000000000000000594ed0194ac318462a847c2ebb54bf772e33353500000000000000000000000000000000000000000000000000000000000003e8

Result:
0x30B48891E399Df43EF594D7a6b225bc3f8c80049
0x594ed0194aC318462a847C2ebb54bF772e333535
1000




